{"version":3,"file":"component---src-pages-poswine-index-js-1ad4e39e8014a092b98e.js","mappings":"oQAoBA,MAjBA,SAAkBA,GACd,MAAM,KAACC,EAAI,MAAEC,EAAK,OAAEC,EAAM,MAAEC,EAAK,YAAEC,GAAeL,EAClD,OACI,gBAACM,EAAA,EAAI,CAACC,MAAO,CAAEC,MAAO,UAClB,gBAACF,EAAA,MAAQ,CAACG,QAAQ,MAAMC,IAAKR,IAC7B,gBAACI,EAAA,OAAS,KACN,gBAACA,EAAA,QAAU,KAAEL,EAAK,MAAIG,EAAM,SAK5B,gBAACO,EAAA,EAAM,CAACF,QAAQ,UAAUG,QAASP,GAAa,gBAIhE,E,QCiEA,MA3EA,WAGI,MAAOJ,EAAMY,IAAWC,EAAAA,EAAAA,GAAgB,OAAQ,QAEhD,IAAKC,EAAYC,GAAiBC,EAAAA,SAAe,KAC5CC,EAASC,GAAcF,EAAAA,SAAe,WAEtCG,EAAMC,IAAWP,EAAAA,EAAAA,GAAgB,OAAQ,IAG9C,SAASQ,EAAUrB,GAEfmB,EAAKG,KAAKtB,GACVuB,QAAQC,MAAML,GACdC,GAAQ,OAAID,GAEhB,CA0BA,OAxBAH,EAAAA,WAAgB,KACZ,IAAIS,EAAQ,GAGZC,MAAM,oCAAoCT,GACrCU,MAAKC,GAAOA,EAAIC,SAChBF,MAAMG,IACH,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAC9BR,QAAQU,IAAIH,EAAMC,GAAG/B,MACrByB,EAAMH,KACF,gBAAC,EAAQ,CACLY,IAAKH,EACL/B,KAAM8B,EAAMC,GAAG/B,KACfC,MAAO6B,EAAMC,GAAG9B,MAChBC,OAAQ4B,EAAMC,GAAG7B,OACjBC,MApCT,IAqCSC,YAAa,KAAQiB,EAAUS,EAAMC,GAAG,KAIpDhB,EAAcU,EAAM,GACtB,GACP,CAACR,IAEG,gBAACkB,EAAA,EAAS,KACb,0BAAI,OACJ,gBAACC,EAAA,EAAW,CAAC,aAAW,iBACpB,gBAAC1B,EAAA,EAAM,CAACF,QAAQ,YAAYG,QAAS,KAAQO,EAAW,YAAY,GAAI,aACxE,gBAACR,EAAA,EAAM,CAACF,QAAQ,YAAYG,QAAS,KAAQO,EAAW,SAAS,GAAI,UACrE,gBAACR,EAAA,EAAM,CAACF,QAAQ,YAAYG,QAAS,KAAQO,EAAW,OAAO,GAAI,QACnE,gBAACR,EAAA,EAAM,CAACF,QAAQ,YAAYG,QAAS,KAAQO,EAAW,OAAO,GAAI,QACnE,gBAACR,EAAA,EAAM,CAACF,QAAQ,YAAYG,QAAS,KAAQO,EAAW,UAAU,GAAI,WACtE,gBAACR,EAAA,EAAM,CAACF,QAAQ,YAAYG,QAAS,KAAQO,EAAW,OAAO,GAAI,SAEvE,gBAACmB,EAAA,EAAG,KACA,gBAACC,EAAA,EAAG,KACA,gBAACD,EAAA,EAAG,KACCvB,IAGT,gBAACwB,EAAA,EAAG,CAACC,GAAI,GACL,0BAAI,QAAMvC,GACTmB,EAAKqB,KAAI,CAACC,EAAMV,IACN,gBAACM,EAAA,EAAG,CAACH,IAAKH,GACb,gBAACO,EAAA,EAAG,KAAEG,EAAKzC,MACX,gBAACsC,EAAA,EAAG,KAlET,QAqEH,gBAACD,EAAA,EAAG,KAAC,UArEF,IAsESlB,EAAKa,OAAoB,WAKrD,C","sources":["webpack://gatsby-starter-default/./src/components/WineCard.js","webpack://gatsby-starter-default/./src/pages/poswine/index.js"],"sourcesContent":["import * as React from 'react'\r\nimport { Card, Button } from 'react-bootstrap';\r\n\r\nfunction WineCard(props) {\r\n    const {wine, image, winery, price, handleClick} = props;\r\n    return (\r\n        <Card style={{ width: '18rem' }}>\r\n            <Card.Img variant=\"top\" src={image} />\r\n            <Card.Body>\r\n                <Card.Title>{wine} - {price} Baht</Card.Title>\r\n\r\n                {/*<Card.Text>\r\n                {wines[i].winery}\r\n    </Card.Text>*/}\r\n                <Button variant=\"primary\" onClick={handleClick}>Add to cart</Button>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default WineCard","import * as React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Container, ButtonGroup, Button, Row, Col } from 'react-bootstrap';\r\nimport WineCard from '../../components/WineCard';\r\nimport { useLocalStorage } from 'react-use';\r\n\r\nconst dummyPrice = 400\r\n\r\nfunction PosPage() {\r\n\r\n    //window.localStorage['wine'] = 'Reds'\r\n    const [wine, setWine] = useLocalStorage('wine', 'pink')\r\n\r\n    let [wineTitles, setWineTitles] = React.useState([])\r\n    let [subMenu, setSubMenu] = React.useState('whites')\r\n    //let [cart, setCart] = React.useState([])\r\n    let [cart, setCart] = useLocalStorage('cart', [])\r\n    \r\n\r\n    function addToCart(wine) {\r\n        //console.debug(wine)\r\n        cart.push(wine)\r\n        console.table(cart)\r\n        setCart([...cart])\r\n\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        let items = []\r\n        // Run once after the page finished loading\r\n        // Fetch from https://api.sampleapis.com/coffee/hot\r\n        fetch(`https://api.sampleapis.com/wines/${subMenu}`)\r\n            .then(res => res.json())\r\n            .then((wines) => {\r\n                for (let i = 0; i < wines.length; i++) {\r\n                    console.log(wines[i].wine)\r\n                    items.push(\r\n                        <WineCard\r\n                            key={i}\r\n                            wine={wines[i].wine}\r\n                            image={wines[i].image}\r\n                            winery={wines[i].winery}\r\n                            price={dummyPrice}\r\n                            handleClick={() => { addToCart(wines[i]) }}\r\n                        />\r\n                    )\r\n                }\r\n                setWineTitles(items)\r\n            })\r\n    }, [subMenu])\r\n\r\n    return <Container>\r\n        <h1>POS</h1>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n            <Button variant=\"secondary\" onClick={() => { setSubMenu('sparkling') }}>sparkling</Button>\r\n            <Button variant=\"secondary\" onClick={() => { setSubMenu('whites') }}>whites</Button>\r\n            <Button variant=\"secondary\" onClick={() => { setSubMenu('reds') }}>reds</Button>\r\n            <Button variant=\"secondary\" onClick={() => { setSubMenu('rose') }}>rose</Button>\r\n            <Button variant=\"secondary\" onClick={() => { setSubMenu('dessert') }}>dessert</Button>\r\n            <Button variant=\"secondary\" onClick={() => { setSubMenu('port') }}>port</Button>\r\n        </ButtonGroup>\r\n        <Row>\r\n            <Col>\r\n                <Row>\r\n                    {wineTitles}\r\n                </Row>\r\n            </Col>\r\n            <Col sm={3}>\r\n                <h2>Cart {wine}</h2>\r\n                {cart.map((item, i) => {\r\n                    return <Row key={i}>\r\n                        <Col>{item.wine}</Col>\r\n                        <Col>{dummyPrice}</Col>\r\n                    </Row>\r\n                })}\r\n                <Row>\r\n                    Total: {cart.length * dummyPrice} Baht\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    </Container>\r\n}\r\n\r\nexport default PosPage"],"names":["props","wine","image","winery","price","handleClick","Card","style","width","variant","src","Button","onClick","setWine","useLocalStorage","wineTitles","setWineTitles","React","subMenu","setSubMenu","cart","setCart","addToCart","push","console","table","items","fetch","then","res","json","wines","i","length","log","key","Container","ButtonGroup","Row","Col","sm","map","item"],"sourceRoot":""}